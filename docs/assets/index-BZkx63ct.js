function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/file-system-observer-BwR5auEk.js","assets/file-system-B65nmxyS.js","assets/file-handling-BfixROko.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}})();const ae="modulepreload",oe=function(e){return"/"+e},U={},g=function(r,t,s){let o=Promise.resolve();if(t&&t.length>0){const n=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");o=Promise.all(t.map(i=>{if(i=oe(i),i in U)return;U[i]=!0;const l=i.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!s)for(let f=n.length-1;f>=0;f--){const p=n[f];if(p.href===i&&(!l||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":ae,l||(d.as="script",d.crossOrigin=""),d.href=i,c&&d.setAttribute("nonce",c),document.head.appendChild(d),l)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})}))}return o.then(()=>r()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})},h=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),ie=h?Promise.resolve().then(function(){return pe}):Promise.resolve().then(function(){return be});async function ce(...e){return(await ie).default(...e)}const le=h?Promise.resolve().then(function(){return he}):Promise.resolve().then(function(){return Le});async function de(...e){return(await le).default(...e)}const ue=h?Promise.resolve().then(function(){return we}):Promise.resolve().then(function(){return _e});async function G(...e){return(await ue).default(...e)}const me=async e=>{const r=await e.getFile();return r.handle=e,r};var fe=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const r=[];e.forEach((o,n)=>{r[n]={description:o.description||"Files",accept:{}},o.mimeTypes?o.mimeTypes.map(a=>{r[n].accept[a]=o.extensions||[]}):r[n].accept["*/*"]=o.extensions||[]});const t=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:r,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),s=await Promise.all(t.map(me));return e[0].multiple?s:s[0]},pe={__proto__:null,default:fe};function z(e){function r(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var s=t.done;return Promise.resolve(t.value).then(function(o){return{value:o,done:s}})}return z=function(t){this.s=t,this.n=t.next},z.prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(t){var s=this.s.return;return s===void 0?Promise.resolve({value:t,done:!0}):r(s.apply(this.s,arguments))},throw:function(t){var s=this.s.return;return s===void 0?Promise.reject(t):r(s.apply(this.s,arguments))}},new z(e)}const Y=async(e,r,t=e.name,s)=>{const o=[],n=[];var a,c=!1,i=!1;try{for(var l,u=function(m){var d,f,p,_=2;for(typeof Symbol<"u"&&(f=Symbol.asyncIterator,p=Symbol.iterator);_--;){if(f&&(d=m[f])!=null)return d.call(m);if(p&&(d=m[p])!=null)return new z(d.call(m));f="@@asyncIterator",p="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());c=!(l=await u.next()).done;c=!1){const m=l.value,d=`${t}/${m.name}`;m.kind==="file"?n.push(m.getFile().then(f=>(f.directoryHandle=e,f.handle=m,Object.defineProperty(f,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>d})))):m.kind!=="directory"||!r||s&&s(m)||o.push(Y(m,r,d,s))}}catch(m){i=!0,a=m}finally{try{c&&u.return!=null&&await u.return()}finally{if(i)throw a}}return[...(await Promise.all(o)).flat(),...await Promise.all(n)]};var ye=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const r=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await r.values()).next()).done?[r]:Y(r,e.recursive,void 0,e.skipDirectory)},he={__proto__:null,default:ye},ge=async(e,r=[{}],t=null,s=!1,o=null)=>{Array.isArray(r)||(r=[r]),r[0].fileName=r[0].fileName||"Untitled";const n=[];let a=null;if(e instanceof Blob&&e.type?a=e.type:e.headers&&e.headers.get("content-type")&&(a=e.headers.get("content-type")),r.forEach((l,u)=>{n[u]={description:l.description||"Files",accept:{}},l.mimeTypes?(u===0&&a&&l.mimeTypes.push(a),l.mimeTypes.map(m=>{n[u].accept[m]=l.extensions||[]})):a?n[u].accept[a]=l.extensions||[]:n[u].accept["*/*"]=l.extensions||[]}),t)try{await t.getFile()}catch(l){if(t=null,s)throw l}const c=t||await window.showSaveFilePicker({suggestedName:r[0].fileName,id:r[0].id,startIn:r[0].startIn,types:n,excludeAcceptAllOption:r[0].excludeAcceptAllOption||!1});!t&&o&&o(c);const i=await c.createWritable();return"stream"in e?(await e.stream().pipeTo(i),c):"body"in e?(await e.body.pipeTo(i),c):(await i.write(await e),await i.close(),c)},we={__proto__:null,default:ge},ve=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((r,t)=>{const s=document.createElement("input");s.type="file";const o=[...e.map(i=>i.mimeTypes||[]),...e.map(i=>i.extensions||[])].join();s.multiple=e[0].multiple||!1,s.accept=o||"",s.style.display="none",document.body.append(s);const n=i=>{typeof a=="function"&&a(),r(i)},a=e[0].legacySetup&&e[0].legacySetup(n,()=>a(t),s),c=()=>{window.removeEventListener("focus",c),s.remove()};s.addEventListener("click",()=>{window.addEventListener("focus",c)}),s.addEventListener("change",()=>{window.removeEventListener("focus",c),s.remove(),n(s.multiple?Array.from(s.files):s.files[0])}),"showPicker"in HTMLInputElement.prototype?s.showPicker():s.click()})),be={__proto__:null,default:ve},Se=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((r,t)=>{const s=document.createElement("input");s.type="file",s.webkitdirectory=!0;const o=a=>{typeof n=="function"&&n(),r(a)},n=e[0].legacySetup&&e[0].legacySetup(o,()=>n(t),s);s.addEventListener("change",()=>{let a=Array.from(s.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(a=a.filter(c=>c.webkitRelativePath.split("/").every(i=>!e[0].skipDirectory({name:i,kind:"directory"})))):a=a.filter(c=>c.webkitRelativePath.split("/").length===2),o(a)}),"showPicker"in HTMLInputElement.prototype?s.showPicker():s.click()})),Le={__proto__:null,default:Se},Ee=async(e,r={})=>{Array.isArray(r)&&(r=r[0]);const t=document.createElement("a");let s=e;"body"in e&&(s=await async function(a,c){const i=a.getReader(),l=new ReadableStream({start:d=>async function f(){return i.read().then(({done:p,value:_})=>{if(!p)return d.enqueue(_),f();d.close()})}()}),u=new Response(l),m=await u.blob();return i.releaseLock(),new Blob([m],{type:c})}(e.body,e.headers.get("content-type"))),t.download=r.fileName||"Untitled",t.href=URL.createObjectURL(await s);const o=()=>{typeof n=="function"&&n()},n=r.legacySetup&&r.legacySetup(o,()=>n(),t);return t.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(t.href),3e4),o()}),t.click(),null},_e={__proto__:null,default:Ee};const D="/spinner.svg",ke=document.querySelector("#load-wasm"),J=document.querySelector("#merge-button"),b=document.querySelector("#merge-area"),xe=document.querySelector("#load-directory"),O=document.querySelector("#drop-area"),w=document.querySelector("#results-area"),K=document.querySelector("#total-delta-size"),Ae=document.querySelector("#stats-template"),Pe=document.querySelector("#example-template"),W=document.querySelector("#stats-header"),F=document.querySelector("#select-all-checkbox"),I=document.querySelector("#overwrite-checkbox"),qe=document.querySelector("#observe-file-changes-checkbox"),Q=document.querySelector("#observe-directory-changes-checkbox"),X=document.querySelector("#examples-list"),j=document.querySelector("meta[name=theme-color]"),P=document.querySelector("#global-stats"),ze=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Fe=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Te=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Oe=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],H=(e,r,t)=>{let s=e;return typeof r=="string"||Array.isArray(r)?s=e.toLocaleString(r,t):(r===!0||t!==void 0)&&(s=e.toLocaleString(void 0,t)),s};function v(e,r){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);r={bits:!1,binary:!1,space:!0,...r};const t=r.bits?r.binary?Oe:Te:r.binary?Fe:ze,s=r.space?" ":"";if(r.signed&&e===0)return` 0${s}${t[0]}`;const o=e<0,n=o?"-":r.signed?"+":"";o&&(e=-e);let a;if(r.minimumFractionDigits!==void 0&&(a={minimumFractionDigits:r.minimumFractionDigits}),r.maximumFractionDigits!==void 0&&(a={maximumFractionDigits:r.maximumFractionDigits,...a}),e<1){const u=H(e,r.locale,a);return n+u+s+t[0]}const c=Math.min(Math.floor(r.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),t.length-1);e/=(r.binary?1024:1e3)**c,a||(e=e.toPrecision(3));const i=H(Number(e),r.locale,a),l=t[c];return n+i+s+l}const B=crypto.randomUUID(),V="merged.wasm";h&&(b.querySelector(".delta").colSpan+=1);J.addEventListener("click",async()=>{const e=b.querySelector(".file-name"),r=b.querySelector(".before-size"),t=b.querySelector(".after-size"),s=b.querySelector(".delta-size"),o=b.querySelector(".spinner");e.querySelector("code").textContent=V,e.dataset.uuid=B,e.classList.add("processing"),b.hidden=!1,o.src=D,t.textContent="",s.textContent="Merging…",s.classList.remove("size-smaller"),s.classList.remove("size-larger"),e.classList.remove("error"),s.classList.remove("error"),t.classList.remove("error");const n=[],a=[];w.querySelectorAll("input.merge-checkbox:checked:not(:disabled)").forEach(l=>{const u=l.closest("tr").querySelector("[data-uuid]").dataset.uuid,{file:m}=L.get(u);n.push(m),a.push(u)});const c=n.reduce((l,u)=>l+u.size,0);r.textContent=`Σ ${v(c).replace(" "," ")}`;const i=new Worker(new URL("/assets/wasm-merge-worker-DVQ_goa_.js",import.meta.url),{type:"module"});i.addEventListener("message",async l=>{if(l.data.status){s.textContent="Optimizing…";return}i.terminate(),o.removeAttribute("src"),e.classList.remove("processing");const{file:u,error:m}=l.data;if(m){const p=new Error(m);t.classList.add("error"),s.classList.add("error"),t.textContent=p.name,s.textContent=p.message;return}t.textContent=v(u.size).replace(" "," ");const d=u.size-c;console.log(`Files ${new Intl.ListFormat("en",{style:"long",type:"conjunction"}).format(n.map(p=>p.name))} merged → Before Σ: ${c} After: ${u.size} Delta: ${d}`);const f=Math.abs(100-u.size/c*100).toFixed(2);s.textContent=Number(f)===0?"no change":`${f}% ${d<0?"smaller":"larger"} (${v(Math.abs(d)).replace(" "," ")})`,s.classList.add(Number(f)===0?"size-larger":d<0?"size-smaller":"size-larger"),L.set(B,{file:u})}),i.postMessage({wasmFiles:n,uuids:a,fileName:V})});const Ce=async(e,r)=>{const t=[],s=async n=>{for(const[a,c]of n)try{t[a]=await c()}catch(i){t[a]=new Error(`Failed with: ${i.message}`)}},o=new Array(r).fill(e.entries()).map(s);return await Promise.allSettled(o),t},Me=(e,r)=>{let t;return function(...o){const n=()=>{clearTimeout(t),e(...o)};clearTimeout(t),t=setTimeout(n,r)}},ee="https://wasmoptim-stats.glitch.me",te={"Content-Type":"application/json"},Be=async(e,r)=>{try{const t=JSON.stringify({beforeSize:e,afterSize:r});await(await fetch(`${ee}/saved-bytes`,{method:"POST",headers:te,body:t})).json()}catch(t){if(location.hostname==="localhost")return;console.error(t.name,t.message)}},re=async()=>{try{const r=await(await fetch(`${ee}/saved-bytes`,{headers:te})).json();P.hidden=!1;const t=P.querySelector(".global-stats-files"),s=P.querySelector(".global-stats-size"),o=P.querySelector(".global-stats-percent");t.textContent=`${new Intl.NumberFormat().format(r.entryCount)} ${r.entryCount===1?"file":"files"}`,s.textContent=v(r.totalBytesSaved).replace(" "," "),o.textContent=Number(r.averagePercentageSaved).toFixed(2)}catch(e){if(location.hostname==="localhost")return;console.error(e.name,e.message)}};re();const L=new Map;h&&(K.colSpan+=1);let q=0;const x=async e=>{if(W.hidden=!1,h){const t=W.querySelector("th[hidden]");t&&(t.hidden=!1)}w.closest("table").hidden=!1;const r=[];for(const t of e){const s=Re&&t.handle?await t.handle.getUniqueId():t.webkitRelativePath?t.webkitRelativePath:t.relativePath?t.relativePath:t.name;let o,n,a,c,i,l,u;const m=w.querySelector(`[data-uuid="${s}"]`);if(m){const d=m.closest("tr");o=d.querySelector(".file-name"),n=d.querySelector(".before-size"),a=d.querySelector(".after-size"),c=d.querySelector(".delta-size"),i=d.querySelector(".spinner"),l=d.querySelector(".merge-checkbox"),u=d.querySelector(".pin-checkbox")}else{const d=Ae.content.cloneNode(!0);o=d.querySelector(".file-name"),n=d.querySelector(".before-size"),a=d.querySelector(".after-size"),c=d.querySelector(".delta-size"),i=d.querySelector(".spinner"),l=d.querySelector(".merge-checkbox"),u=d.querySelector(".pin-checkbox"),u.closest("td").hidden=!h,w.append(d);const f=w.querySelectorAll("tr").length>1;F.closest("th").style.display=f?"":"none",w.querySelectorAll("input.merge-checkbox").forEach(p=>{p.closest("td").style.display=f?"":"none"})}if(i.src=D,o.querySelector("code").textContent=t.name,c.textContent="Optimizing…",n.textContent=v(t.size).replace(" "," "),o.dataset.uuid=s,l.disabled=!0,c.classList.remove("size-smaller"),c.classList.remove("size-larger"),c.classList.remove("error"),a.classList.remove("error"),l.classList.remove("error"),o.classList.remove("error"),o.classList.add("processing"),l.classList.add("processing"),Z)try{await navigator.setAppBadge(++q)}catch(d){console.error(d.name,d.message)}r.push(()=>new Promise((d,f)=>{const p=new Worker(new URL("/assets/wasm-opt-worker-BRsbEtNJ.js",import.meta.url));p.addEventListener("message",async _=>{if(p.terminate(),i.removeAttribute("src"),o.classList.remove("processing"),l.classList.remove("processing"),l.disabled=!1,Z){--q;try{q===0?await navigator.clearAppBadge():await navigator.setAppBadge(q)}catch(y){console.error(y.name,y.message)}}const{wasmFileAfter:S,error:R}=_.data;if(R){const y=new Error(R);o.classList.add("error"),a.classList.add("error"),c.classList.add("error"),l.classList.add("error"),l.disabled=!0,a.textContent=y.name,c.textContent=y.message,f(y);return}a.textContent=v(S.size).replace(" "," ");const E=S.size-t.size;console.log(`File ${t.name} processed → Before: ${t.size} After: ${S.size} Delta: ${E}`);const C=Math.abs(100-S.size/t.size*100).toFixed(2);c.textContent=Number(C)===0?"no change":`${C}% ${E<0?"smaller":"larger"} (${v(Math.abs(E)).replace(" "," ")})`,c.classList.add(Number(C)===0?"size-larger":E<0?"size-smaller":"size-larger"),L.set(s,{file:S,handle:t.handle,savings:E});const M=[];for(const[y,{savings:A}]of L.entries())y!==B&&M.push(A);const $=M.reduce((y,A)=>y+A,0),ne=$/L.size;if(K.textContent=`Saved ${v(Math.abs($)).replace(" "," ")} in total and ${v(Math.abs(ne)).replace(" "," ")} per file on average`,E<0&&(Be(t.size,S.size).then(()=>re()),h&&I.checked&&t.handle))try{const y=await t.handle.createWritable();await y.write(S),await y.close()}catch(y){console.error(y.name,y.message)}if(k&&qe.checked&&t.handle){const{getFileSystemChangeObserver:y}=await g(()=>import("./file-system-observer-BwR5auEk.js"),__vite__mapDeps([0,1]));y().observe(t.handle),console.log(`File ${t.name} → Observing changes`)}d()}),p.postMessage({wasmFileBefore:t,uniqueId:s})}))}await Ce(r,"hardwareConcurrency"in navigator?Math.floor(navigator.hardwareConcurrency):4)},De=["https://unpkg.com/zxing-wasm@1.0.0-rc.4/dist/full/zxing_full.wasm","https://unpkg.com/@sqlite.org/sqlite-wasm@3.44.0-build1/sqlite-wasm/jswasm/sqlite3.wasm",...Array.from(document.head.querySelectorAll('link[rel=preload][href$=".wasm"]')).map(e=>e.href)],Ie=/@(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?/;De.forEach(e=>{const r=Pe.content.cloneNode(!0),t=r.querySelector("code"),s=r.querySelector("a");t.textContent=e.replace("https://unpkg.com/","").replace(Ie,""),s.href=e,X.append(r)});X.addEventListener("click",async e=>{const r=e.target.nodeName.toLowerCase();if(r!=="a"&&r!=="code")return;e.preventDefault();const t=e.target.closest("a"),s=t.href,o=t.parentNode.querySelector(".downloading");o.textContent="Downloading…",o.classList.remove("error"),o.hidden=!1;const n=t.parentNode.querySelector("img");n.src=D;try{const a=await fetch(s).then(i=>i.blob());n.removeAttribute("src"),o.hidden=!0;const c=new File([a],s.split("/").pop(),{type:"application/wasm"});c.handle=!1,await x([c])}catch(a){console.error(a.name,a.message),n.removeAttribute("src"),o.classList.add("error"),o.textContent=a.message}});xe.addEventListener("click",async()=>{try{const e=await de({recursive:!0,mode:I.checked?"readwrite":"read"}),r=e.filter(t=>t.type==="application/wasm"||t.name.endsWith(".wasm")||t.name.endsWith(".wat"));if(h&&k&&Q.checked){let t=[];for(const a of e)t.push(a.directoryHandle);t=[...new Set(t)];const{getFileSystemChangeObserver:s,observedDirectories:o}=await g(()=>import("./file-system-observer-BwR5auEk.js"),__vite__mapDeps([0,1])),n=s();t.forEach(a=>{n.observe(a,{recursive:!0}),o.add(a),console.log(`Directory ${a.name} → Observing changes`)})}await x(r)}catch(e){if(e.name==="AbortError")return;console.error(e.name,e.message)}});ke.addEventListener("click",async()=>{try{const e=await ce({mimeTypes:["application/wasm"],extensions:[".wasm",".wat"],multiple:!0});if(!e||!e.length)return;await x(e)}catch(e){if(e.name==="AbortError")return;console.error(e.name,e.message)}});document.addEventListener("paste",async e=>{try{if(!e.clipboardData.files.length)return;const r=Array.from(e.clipboardData.files).filter(t=>t.type==="application/wasm"||t.name.endsWith(".wasm")||t.name.endsWith(".wat"));await x(r)}catch(r){console.error(r.name,r.message)}});let T;(async()=>{if(h){({readDirectory:T}=await g(()=>import("./file-system-B65nmxyS.js"),__vite__mapDeps([])));return}({readDirectory:T}=await g(()=>import("./file-system-legacy-DAcP7iBH.js"),__vite__mapDeps([])))})();document.addEventListener("dragover",e=>{e.preventDefault(),O.classList.add("drag-hover")});document.addEventListener("dragenter",e=>{e.preventDefault(),O.classList.add("drag-hover")});document.addEventListener("dragleave",e=>{e.preventDefault(),O.classList.remove("drag-hover")});document.addEventListener("drop",async e=>{e.preventDefault(),O.classList.remove("drag-hover");const r=[...e.dataTransfer.items].filter(n=>n.kind==="file").map(n=>Ne?n.getAsFileSystemHandle():n.webkitGetAsEntry()),t=[];let s,o;k&&({getFileSystemChangeObserver:s,observedDirectories:o}=await g(()=>import("./file-system-observer-BwR5auEk.js"),__vite__mapDeps([0,1])));for await(const n of r){if(n.kind==="directory"){let c=await T(n,!0);if(c=c.filter(i=>i.type==="application/wasm"||i.name.endsWith(".wasm")||i.name.endsWith(".wat")),t.push(...c),k&&Q.checked){let i=[];for(const u of c)i.push(u.directoryHandle);i=[...new Set(i)];const l=s();i.forEach(u=>{l.observe(u,{recursive:!0}),o.add(u),console.log(`Directory ${u.name} → Observing changes`)})}continue}else if(n.isDirectory){let c=await T(n);c=c.filter(i=>i.name.endsWith(".wasm")||i.name.endsWith(".wat")),t.push(...(await Promise.all(c.map(async i=>new Promise(l=>i.file(l))))).map((i,l)=>(i.relativePath=c[l].fullPath,i)));continue}let a;n.kind==="file"?(a=await n.getFile(),a.handle=n):n.isFile&&(a=await new Promise(c=>n.file(i=>c(i)))),!(a.type&&a.type!=="application/wasm"||!a.name.endsWith(".wasm")&&!a.name.endsWith(".wat"))&&t.push(a)}if(h&&I.checked){const{checkAndPossiblyAskForPermissions:n}=await g(()=>import("./file-system-B65nmxyS.js"),__vite__mapDeps([]));await n(t)}t.length!==0&&await x(t)});const N=()=>{const e=w.querySelectorAll("input.merge-checkbox:checked:not(:disabled)").length;J.style.display=e<2?"none":""};N();F.addEventListener("click",()=>{w.querySelectorAll("input.merge-checkbox:not(:disabled)").forEach(e=>{e.checked=F.checked}),N()});b.addEventListener("click",async e=>{const r=e.target.nodeName.toLowerCase();if(r!=="a"&&r!=="code")return;e.preventDefault();const t=e.target.closest("a");if(!t.classList.contains("file-name")||t.classList.contains("error")||t.classList.contains("processing"))return;const s=t.dataset.uuid,{file:o,handle:n}=L.get(s);try{await G(o,{fileName:o.name,extensions:[".wasm"],mimeTypes:["application/wasm"],existingHandle:n||void 0,startIn:n||void 0})}catch(a){if(a.name==="AbortError")return;console.error(a.name,a.message)}});w.addEventListener("click",async e=>{const r=e.target.nodeName.toLowerCase();if(r==="input"||r==="label"){if(e.target.classList.contains("error")||e.target.classList.contains("processing"))return;e.target.checked||(F.checked=!1),N();return}if(r!=="a"&&r!=="code")return;e.preventDefault();const t=e.target.closest("a");if(!t.classList.contains("file-name")||t.classList.contains("error")||t.classList.contains("processing"))return;const s=t.dataset.uuid,{file:o,handle:n}=L.get(s);try{await G(o,{fileName:o.name,extensions:[".wasm",".wat"],mimeTypes:["application/wasm"],existingHandle:n||void 0,startIn:n||void 0})}catch(a){if(a.name==="AbortError")return;console.error(a.name,a.message)}});const se=e=>{if(e.matches){j.content="rgb(32, 33, 36)";return}j.content="#fff"};matchMedia("(prefers-color-scheme: dark)").addEventListener("change",se);se(matchMedia("(prefers-color-scheme: dark)"));const Ne="getAsFileSystemHandle"in DataTransferItem.prototype,k="FileSystemObserver"in window,Re="FileSystemHandle"in window&&"getUniqueId"in FileSystemHandle.prototype,Z="setAppBadge"in navigator;(async()=>{if(h&&g(()=>import("./file-system-B65nmxyS.js"),__vite__mapDeps([])),k&&g(()=>import("./file-system-observer-BwR5auEk.js"),__vite__mapDeps([0,1])),"launchQueue"in window&&"files"in LaunchParams.prototype&&g(()=>import("./file-handling-BfixROko.js"),__vite__mapDeps([2,1])),"serviceWorker"in navigator){const{registerSW:e}=await g(()=>import("./virtual_pwa-register-DB9Weq_R.js"),__vite__mapDeps([]));e({onOfflineReady(){console.log("Ready to work offline")},onNeedRefresh(){location.reload()}})(),"share"in navigator&&g(()=>import("./web-share-target-CSSX1YQP.js"),__vite__mapDeps([]))}})();export{B as M,g as _,Q as a,x as b,I as c,Me as d,h as e,qe as o,Re as s,L as u};
